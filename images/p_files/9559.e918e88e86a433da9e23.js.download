"use strict";(globalThis.webpackChunkunsplash_web=globalThis.webpackChunkunsplash_web||[]).push([[9559],{9706:(t,e,n)=>{n.d(e,{L:()=>i});var o=n(57842);const i=n(74235).kr9(o.YP)},69559:(t,e,n)=>{n.d(e,{q:()=>$,Z:()=>z});var o={};n.r(o),n.d(o,{load_more_button_label:()=>U});var i={};n.r(i),n.d(i,{load_more_button_label:()=>D});var s={};n.r(s),n.d(s,{load_more_button_label:()=>F});var l=n(85893),r=n(3735),a=n(30845),d=n(86706),c=n(91384),h=n(66132),p=n(46954),u=n(70549),I=n(18711),f=n(48944),g=n(4094),b=n(43882),S=n(15665),m=n(57842),O=n(30447),x=n(6464),j=n(93416),v=n(15964),P=n(9435),R=n(74235),_=n(17060),E=n(83067),N=n(55360),q=n(6671),A=n(9706);const k="gDCZZ",w="HxaG2",C="ATnvl",T="dycl5 hNER6 jJsTo qBwND",J="PwSsU O84oE",Z="rx4AP";var B=n(85173);const U=()=>"Load more photos",D=()=>"Carga más fotos",F=()=>"さらに写真を読み込む",{getTranslations:Q,useTranslations:y,withTranslations:H}=(0,B.U)({EnUs:o,EsEs:i,JaJp:s});function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const $=()=>(0,l.jsx)(R.tJQ,{className:w,children:(0,l.jsx)(R.tJQ,{className:C,children:g.w6H(0,17).map((t=>(0,l.jsx)(R.tJQ,{className:T,children:(0,l.jsx)(R.tJQ,{className:J})},t)))})}),G=(0,j.DO)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:b.HP((()=>(0,l.jsx)(E.Z,{type:"photos"}))),getPlaceholderEl:b.HP((()=>(0,l.jsx)($,{})))}),M=O.Ue();class V extends R.wA2{constructor(){super(...arguments),L(this,"getInfiniteScrollSetting",(t=>{let{shouldRequireInfiniteScrollOptIn:e}=t;return e?M.mk.OptInRequired({optedIn:!1}):M.mk.Enabled})),L(this,"state",{infiniteScrollSetting:this.getInfiniteScrollSetting(this.props)}),L(this,"toggleInfiniteScrollOptIn",(()=>{const{infiniteScrollSetting:t}=this.state;M.match({OptInRequired:t=>{let{optedIn:e}=t;const n=M.mk.OptInRequired({optedIn:(0,x.U_)(e)});this.setState({infiniteScrollSetting:n})},[O._]:r.Q1})(t)})),L(this,"fetchDataAndBuildActions",(0,a.Z)((t=>(0,r.ls)(t,S.UI((0,r.ls)(f.Yq,u.N.traverseArray(u.dp),(t=>{let[e,n]=t;return[(0,h.VA)(n),h.aU.mk.HandleNextPhotoFeedPageResponse({feedId:this.props.feedId,photoIds:e.map((t=>t.id))})]}))))))),L(this,"createPhotoFeedIdContextValue",(0,a.Z)((t=>m.G(t))))}UNSAFE_componentWillReceiveProps(t){if(t.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){const e=this.getInfiniteScrollSetting(t);this.setState({infiniteScrollSetting:e})}}render(){const{photoFeedOption:t,photosOption:e,children:n,getNoContentEl:o,getPlaceholderEl:i,renderBeneathLoadMoreButton:s,feedId:r,fetchPhotos:a,notifier$:d,intersectionObserverRoot:c,intersectionObserverRootMarginBottom:h,t:u}=this.props,{infiniteScrollSetting:I}=this.state,f=!1===M.match({OptInRequired:t=>{let{optedIn:e}=t;return e},Enabled:()=>!0})(I);return(0,l.jsx)(A.L.Provider,{value:this.createPhotoFeedIdContextValue(r),children:(0,l.jsx)(N.f,{renderItems:n,feedItemsOption:e,feedStateOption:t,getScrollFooterEl:()=>(0,l.jsx)(R.tJQ,{className:Z,children:M.match({OptInRequired:t=>{let{optedIn:e}=t;return e?(0,l.jsx)(q.Z,{}):(0,l.jsxs)(R.PRT,{children:[(0,l.jsx)(R.tJQ,{className:k,children:(0,l.jsx)(_.Z,{tag:"button",buttonType:P.L$.Outline,onClick:this.toggleInfiniteScrollOptIn,type:"button",children:u.load_more_button_label()})}),null==s?void 0:s()]})},Enabled:()=>(0,l.jsx)(q.Z,{})})(I)}),getNoContentEl:o,getPlaceholderEl:i,shouldDisableInfiniteScroll:f,fetchDataAndBuildActions:this.fetchDataAndBuildActions(a),notifier$:d,intersectionObserverRoot:c,intersectionObserverRootMarginBottom:h},p.un(r))})}}const Y=(0,I.O)()((()=>{const t=(0,v.XT)(),e=(0,v.u0)();return(n,o)=>({photoFeedOption:t(n,o.feedId),photosOption:e(n,o.feedId)})})),z=(0,r.zG)(V,(0,d.$j)(Y),H,(t=>(0,c.b9)(t,G)))}}]);
//# sourceMappingURL=9559.e918e88e86a433da9e23.js.map